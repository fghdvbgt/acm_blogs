## AC自动机入门(以hdu2222为例)

前置知识点：
1. trie树
2. 失配指针概念（参考KMP的next数组）

题目链接：http://acm.hdu.edu.cn/showproblem.php?pid=2222

AC自动机简析：

  AC自动机其实就是增强版trie树，其作用一样是字符串多模式匹配，与trie树相比，增强之处就是多了一个fail数组，或者叫失配指针域，提供类似KMP的功能，在失配的时候无需从头开始匹配，而是回到可能的最近点处直接匹配下一字符，这使得trie树的效率大大提高。下面以hdu2222为例，使用AC自动机解决此题。
  
  ![](/assets/img/AC自动机初学/0.jpg)
  
  第一步建树，和trie树一样，建出tire树如上图，其中蓝色边框的是单词结束节点。
  
  ![](/assets/img/AC自动机初学/1.jpg)
  
  然后开始用BFS算法层序遍历trie树，先将根节点的直接子节点的fail域赋值指向根节点，如上图。
